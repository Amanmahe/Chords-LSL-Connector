"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{5626:(e,r,t)=>{t.r(r),t.d(r,{default:()=>g});var s=t(5155),a=t(2115),l=t(5711),i=t(6306),n=t(3286),c=t(6517),d=t(9099),o=t(4416),m=t(8164),x=t(3897),u=t(4390),h=t(6356);let b=e=>{let{os:r,size:t=24,className:a}=e;return(()=>{switch(r){case"windows":return(0,s.jsx)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",className:a,role:"img","aria-label":"Windows icon",children:(0,s.jsx)("path",{d:"M3 12V6.5L10.5 5.5V12H3ZM3 17.5V12H10.5V18.5L3 17.5ZM11 5.5L21 4V12H11V5.5ZM21 12V20L11 18.5V12H21Z"})});case"linux":return(0,s.jsxs)("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"currentColor",className:a,role:"img","aria-label":"Linux icon",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("circle",{cx:"16",cy:"16",r:"14",fill:"black"}),(0,s.jsx)("text",{x:"16",y:"21",textAnchor:"middle",fontSize:"14",fill:"white",fontFamily:"Arial",children:"\uD83D\uDC27"})]});case"macos":return(0,s.jsx)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",className:a,role:"img","aria-label":"macOS icon",children:(0,s.jsx)("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39 5.57 7.87 7.13 6.91 8.82 6.88c1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})});default:return(0,s.jsx)("span",{className:a,"aria-label":"Unknown OS icon",role:"img",children:"❓"})}})()},g=()=>{let[e,r]=(0,a.useState)(!1),t=(0,a.useRef)(null),[g,p]=(0,a.useState)(null),[f,w]=(0,a.useState)([]),[y,v]=(0,a.useState)(0),[j,N]=(0,a.useState)(0),[k,S]=(0,a.useState)(!1),[C,F]=(0,a.useState)(0),L=(0,a.useRef)(!1),[V,A]=(0,a.useState)(!1),_=(0,a.useRef)(null),z=(0,a.useRef)(null),D=(0,a.useRef)(null),I=async()=>{try{S(!0),F(0),L.current=!0,t.current=await l.I8.invoke("detect_arduino"),r(!0),S(!1),await l.I8.invoke("start_streaming",{portName:t.current,stream_name:"UDL"})}catch(e){console.error("Failed to connect to device:",e)}},B=async()=>{try{S(!0),F(0),await l.I8.invoke("start_wifistreaming"),L.current=!0,r(!0)}catch(e){console.error("Failed to connect to device:",e)}},E=async()=>{try{A(!0),F(0),L.current=!0,await l.I8.invoke("scan_ble_devices")}catch(e){console.error("Failed to connect to device:",e)}},M=()=>{_.current&&(z.current=new h.SmoothieChart({limitFPS:20,grid:{strokeStyle:"rgb(75, 85, 99)",lineWidth:1,millisPerLine:8e3,verticalSections:6,borderVisible:!1},labels:{fillStyle:"#ffffff",fontSize:12,precision:0,showIntermediateLabels:!0,disabled:!1},tooltip:!0,tooltipLine:{lineWidth:1,strokeStyle:"#00FF00"},maxValue:1e3,minValue:0,responsive:!0,millisPerPixel:100,yRangeFunction:()=>({min:0,max:1e3})}),D.current=new h.TimeSeries,z.current.addTimeSeries(D.current,{strokeStyle:"rgb(0, 255, 0)",lineWidth:2,fillStyle:"rgba(0, 255, 0, 0.1)"}),z.current.streamTo(_.current,50))};(0,a.useEffect)(()=>{if(e)return M(),()=>{z.current&&_.current&&(z.current.stop(),z.current=null,D.current=null)}},[e]),(0,a.useEffect)(()=>{let e=[];return(async()=>{let r=await (0,x.KT)("bleDevices",e=>{w(e.payload)});e.push(r);let t=await (0,x.KT)("samplerate",e=>{let r=Math.ceil(Number(e.payload));if(v(r),F(e=>e+r),D.current){let e=Date.now();D.current.append(e,r),console.log("Appended: ".concat(e,", ").concat(r))}});e.push(t);let s=await (0,x.KT)("samplelost",e=>{N(e.payload)});e.push(s)})(),()=>{for(let r of e)r()}},[]);let R=e=>{switch(e){case"bluetooth":default:return(0,s.jsx)(i.A,{className:"mr-2"});case"serial":return(0,s.jsx)(n.A,{className:"mr-2"});case"wifi":return(0,s.jsx)(c.A,{className:"mr-2"})}},T=async e=>{await (0,u.ho)(e)};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:" flex-col bg-gray-200 overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-gray-800   p-6 ",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsxs)("h2",{className:"flex items-center text-2xl font-semibold text-white gap-2",children:[(0,s.jsx)("div",{className:"font-rancho font-bold text-2xl duration-300 bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 text-transparent bg-clip-text",children:"Chords"}),"LSL Connector "]}),(0,s.jsxs)("button",{onClick:()=>T("https://github.com/upsidedownlabs/Chords-Arduino-Firmware"),className:"flex items-center cursor-pointer gap-2 px-3 py-1 bg-gray-600 hover:bg-gray-700 dark:bg-gray-500 dark:hover:bg-gray-600 text-white rounded-md text-sm transition-colors",children:[(0,s.jsx)(d.A,{className:"h-4 w-4"})," Get Firmware"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{type:"bluetooth",title:"Bluetooth LE",description:"For wireless Bluetooth LE connectivity"},{type:"serial",title:"Serial",description:"For direct wired USB serial connections"},{type:"wifi",title:"WiFi",description:"For wireless WiFi network connectivity"}].map(e=>(0,s.jsx)("div",{onClick:()=>{if(!g)switch(p(e.type),w([]),e.type){case"bluetooth":E(),A(!0);break;case"serial":I();break;case"wifi":B();break;default:console.log("Unknown type selected")}},className:"group relative p-[2px] rounded-lg transition-all duration-300 \n                  ".concat(g?"pointer-events-none":"cursor-pointer","\n                  ").concat(g===e.type?"bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500 animate-gradient-move":null!=g?"bg-white":"bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500"),children:(0,s.jsxs)("div",{className:"relative rounded-lg p-4 transition-all duration-200 border border-transparent bg-gray-700",children:[(0,s.jsxs)("div",{className:"flex items-center text-white",children:[R(e.type),(0,s.jsx)("span",{className:"font-medium",children:e.title})]}),(0,s.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:e.description})]})},e.type))}),(0,s.jsxs)("div",{className:"flex w-full items-center gap-2 p-2 bg-blue-900/20 rounded-lg border border-blue-800 mt-4 ",children:[(0,s.jsx)("span",{className:"text-white text-sm pl-2",children:"Visualise your bio-potential signals on"}),(0,s.jsxs)("button",{onClick:()=>T("https://www.brainproducts.com/downloads/more-software/"),className:"flex items-center gap-2 px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm transition-colors cursor-pointer ",children:["BrainVision LSL Viewer ",(0,s.jsx)(b,{size:32,os:"windows",className:"text-white-500"})]}),(0,s.jsxs)("button",{onClick:()=>T("https://open-ephys.org/gui"),className:"flex items-center gap-2 px-3 py-1 bg-blue-600 hover:bg-blue-700' text-white rounded-md text-sm transition-colors cursor-pointer",children:["Open Ephys GUI   ",(0,s.jsx)(b,{os:"windows",size:32,className:"text-white-500"}),(0,s.jsx)(b,{os:"linux",size:32,className:"text-white-500"}),(0,s.jsx)(b,{os:"macos",size:32,className:"text-white-700"})]})]}),e?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg p-2 border border-gray-700 mt-2",children:[(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Connection Statistics"})}),(0,s.jsxs)("div",{className:"h-[15rem] bg-black rounded-lg border border-gray-600 relative",children:[(0,s.jsx)("div",{className:"bg-gray-900 w-full h-full rounded-lg",children:(0,s.jsx)("canvas",{ref:_,className:"w-full h-full rounded-lg"})}),(0,s.jsx)("div",{className:"absolute top-2 left-2 text-white text-xs space-y-1",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("span",{className:"flex items-center gap-2 p-2 bg-blue-900/20 rounded-lg border border-blue-800",children:["Sampling Rate: ",y||0," Hz"]}),(0,s.jsxs)("span",{className:"flex items-center gap-2 p-2 bg-blue-900/20 rounded-lg border border-blue-800",children:["Samples Lost: ",j||0]}),(0,s.jsxs)("span",{className:"flex items-center gap-2 p-2 bg-blue-900/20 rounded-lg border border-blue-800",children:["Total Samples: ",C]})]})})]})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-white mb-2 mt-4",children:"Connectivity Guide"}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[(0,s.jsx)("div",{className:"mb-4 p-2 bg-red-900/20 rounded-lg border border-red-800",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,s.jsx)("p",{className:"text-white text-sm font-medium",children:"Device Not connected, please follow the steps below to connect your device."})]})}),(0,s.jsxs)("div",{className:"space-x-6 flex",children:[(0,s.jsx)("div",{className:"flex-1 bg-gray-700 rounded-lg p-4 border border-gray-600",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-900 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-blue-200 font-semibold text-sm",children:"1"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"font-medium text-white mb-2",children:"Upload Chords Arduino Firmware"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Open https://github.com/upsidedownlabs/Chords-Arduino-Firmware and upload the firmware according to your development board."})]})]})}),(0,s.jsx)("div",{className:"flex-1 bg-gray-700 rounded-lg p-4 border border-gray-600",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-green-900 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-green-400 font-semibold text-sm",children:"2"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"font-medium text-white mb-2",children:"Connect and Start LSL stream"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"first connect the board se the serial if use the ble then turn on the bluetooth and device ,if you use the wifi then conect the device first to your system via wifi. after start stream then your you can visualise your biopotential signals any lsl viewer"})]})]})})]})]})]})]}),V&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 border border-gray-200 dark:border-gray-700 max-h-[90vh] flex flex-col",children:[(0,s.jsxs)("div",{className:"border-b border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center flex-shrink-0",children:[(0,s.jsx)("div",{children:(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Available Devices"})}),(0,s.jsx)("button",{onClick:()=>{A(!1)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:(0,s.jsx)(o.A,{className:"h-5 w-5"})})]}),(0,s.jsx)("div",{className:"p-6 text-gray-900 dark:text-white overflow-y-auto flex-1 min-h-0",children:f.length>0?(0,s.jsx)("div",{className:"space-y-2",children:f.map(e=>(0,s.jsxs)("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg p-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 flex justify-between items-center transition-colors",onClick:async()=>{await l.I8.invoke("connect_to_ble",{deviceId:e.id}),r(!0),A(!1)},children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"h-5 w-5 mr-3 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:(0,s.jsx)("div",{className:"h-2 w-2 bg-blue-600 dark:bg-blue-400 rounded-full animate-pulse"})}),(0,s.jsx)("span",{className:"text-gray-900 dark:text-white truncate",children:e.name||"Unknown Device (".concat(e.id,")")})]}),(0,s.jsx)(m.A,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 ml-2"})]},e.id))}):(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 dark:border-blue-400 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Scanning for devices..."})]})})]})}),k&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 border border-gray-200 dark:border-gray-700 max-h-[90vh] flex flex-col",children:(0,s.jsx)("div",{className:"p-6 text-gray-900 dark:text-white overflow-y-auto flex-1 min-h-0",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 dark:border-blue-400 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Connecting..."})]})})})})]})})}}}]);